<!DOCTYPE html>
<html>
<head>
  <title>Mahadev Construction Invoice</title>
  <link rel="stylesheet" href="style.css">
   <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

</head>
<body>

<div class="container">

  <!-- INPUT PANEL -->
  <div class="panel">

    <h3>Invoice Input</h3>
    <div class="panel-section">
    <label>Select Letterhead (Branch):</label>
    <select id="bgSelector" style="width: 100%; padding: 8px; margin-bottom: 10px; border: 2px solid blue;">
    <option value="">Select Branch</option>    
    <option value="budwar.jpg">Budwar Branch</option>
    <option value="niwari.jpg">Niwari Branch</option>
</select>
</div>
    <input id="buyerName" placeholder="Buyer Name">
    <textarea id="buyerAddress" placeholder="Buyer Address"></textarea>
    <input id="StateCode2" placeholder="State And code (of Receiver)">
    <input id="buyerGST" placeholder="Buyer GSTIN">

    <input id="invoiceDate" type="date">
    <input id="invoiceNo" placeholder="Invoice Number">
    <div class="panel-section">
    <label>Select Bank Account:</label>
    <select id="accountSelector" style="width: 100%; padding: 8px; margin-bottom: 10px; font-weight: bold;">
        <option value="">-- Select Account --</option>
        <option value="acc1">Account 1 (BOI)</option>
        <option value="acc2">Account 2 (IDBI)</option>
    </select>

    <input id="bankName" placeholder="Bank Name" required>
    <input id="AccountNumber" placeholder="Account Number">
    <input id="Ifsc" placeholder="IFSC Code">
    <input id="branch" placeholder="Branch">
</div>
    <h4>Goods</h4>
    <div id="items"></div>
    <button id="addItem">➕ Add Item</button>

<button id="printBtn" class="btn-print" onclick="directPrint()">Direct Print</button>   
<button id="downloadBtn" style="padding: 10px 20px; background: #28a745; color: white; border: none; cursor: pointer;">
    Download PDF
</button>
<button id="downloadBtn" onclick="saveToDatabase()" style="padding: 10px 20px; background: #6422ce; color: white; border: none; cursor: pointer;">
    Save to Data Base
</button>
<div id="fullScreenLoader" class="loader-overlay">
  <div class="spinner"></div>
  <div class="loader-text">Saving to Database...</div>
</div>
  </div>

  <!-- PREVIEW -->
  <div id="preview"></div>

</div>
<hr style="margin: 40px 0; border-top: 2px dashed #000;">

<div class="dashboard-container" style="padding: 20px; background: #f0f0f0; border: 1px solid #ccc;">
    <h2>View Saved Bills</h2>
    
    <label>Select Branch to View:</label>
    <select id="viewBranchSelector" style="padding: 8px; width: 200px; margin-bottom: 15px;">
        <option value="">-- Select Branch --</option>
        <option value="budwar.jpg">Budwar Branch</option>
        <option value="niwari.jpg">Niwari Branch</option>
    </select>

    <table border="1" style="width: 100%; border-collapse: collapse; background: white;" id="billsTable">
        <thead>
            <tr style="background: #ddd;">
                <th style="padding:8px;">Invoice No</th>
                <th style="padding:8px;">Date</th>
                <th style="padding:8px;">Buyer Name</th>
                <th style="padding:8px;">GSTIN</th>
                <th style="padding:8px;">Taxable Amount (₹)</th>
                <th style="padding:8px;">GST Amount (₹)</th>
                <th style="padding:8px;">Total Amount (₹)</th>
            </tr>
        </thead>
        <tbody>
            </tbody>
    </table>
    <div id="loading" style="display:none; text-align:center; padding:10px;">Loading...</div>
</div>
<script src="script.js"></script>
<SCript>

</SCript>

</body>
</html>
